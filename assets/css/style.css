/* =========================================
   1. CORE SETTINGS & VARIABLES
   ========================================= */
:root {
  --gold: #D4AF37;
  --dark: #1a1a1a;
  --light: #Fdf8f5;
}

html {
  scroll-behavior: smooth;
}

body {
  /* Font fallback is handled in HTML, this ensures consistency */
  font-family: 'Poppins', sans-serif;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, .font-serif {
  font-family: 'Cinzel', serif;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: var(--light);
}
::-webkit-scrollbar-thumb {
  background: #d4c5ad;
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--gold);
}

/* =========================================
   2. CINEMATIC EFFECTS
   ========================================= */

/* Film Grain Overlay */
/* Note: The SVG data is inline in HTML for performance, 
   but this class handles positioning */
.noise-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 5;
  opacity: 0.05;
  mix-blend-mode: overlay;
}

/* Custom Gold Cursor */
#cursor-dot {
  width: 12px;
  height: 12px;
  background: var(--gold);
  border-radius: 50%;
  position: fixed;
  pointer-events: none;
  z-index: 9999;
  transform: translate(-50%, -50%);
  transition: transform 0.1s ease-out;
  mix-blend-mode: difference;
}

/* Hover state for cursor (optional, requires JS trigger) */
body.hovering #cursor-dot {
  transform: translate(-50%, -50%) scale(4);
  opacity: 0.2;
}

/* =========================================
   3. HERO ANIMATIONS
   ========================================= */

/* "Ken Burns" Slow Zoom Effect */
.animate-zoom {
  animation: zoom-in 25s infinite alternate ease-in-out;
}

@keyframes zoom-in {
  0% { transform: scale(1); }
  100% { transform: scale(1.15); }
}

/* Initial States for GSAP Reveals */
.reveal-text, 
.animate-fade-in-up {
  /* JS will handle opacity, but we ensure it starts hidden */
  opacity: 0; 
  transform: translateY(20px);
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Pure CSS Fallback for Hero Fade In */
.animate-fade-in-up {
  animation: fadeInUp 1s ease-out forwards;
}

/* =========================================
   4. CURTAIN REVEAL (THE "SHOCKING" EFFECT)
   ========================================= */

.curtain-reveal {
  position: relative;
  overflow: hidden;
}

.curtain {
  position: absolute;
  inset: 0;
  background: var(--gold);
  z-index: 20;
  /* Start covering the image */
  transform: scaleY(1);
  transform-origin: bottom;
  transition: transform 1.2s cubic-bezier(0.77, 0, 0.175, 1);
}

/* Class added by ScrollTrigger in JS */
.reveal-active .curtain {
  transform: scaleY(0);
  transform-origin: top;
}

/* =========================================
   5. ALBUM STACKS
   ========================================= */

.album-stack {
  position: relative;
  width: 220px;
  height: 280px;
  margin: 0 auto;
  perspective: 1000px;
}

/* Base style for all photos in stack */
.photo-back, .photo-mid, .photo-front {
  position: absolute;
  inset: 0;
  background: #fff;
  border: 6px solid #fff;
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
  border-radius: 4px;
}

/* Initial messy stack positions */
.photo-back { 
  transform: rotate(-6deg); 
  z-index: 1; 
  background-color: #f0f0f0;
}
.photo-mid { 
  transform: rotate(6deg); 
  z-index: 2; 
  background-color: #f8f8f8;
}
.photo-front { 
  transform: rotate(0deg); 
  z-index: 3; 
  overflow: hidden;
}

/* Hover Effects: Fan them out */
.group:hover .photo-back {
  transform: translate(-15px, -5px) rotate(-12deg);
}
.group:hover .photo-mid {
  transform: translate(15px, -5px) rotate(12deg);
}
.group:hover .photo-front {
  transform: scale(1.05);
  box-shadow: 0 15px 30px rgba(0,0,0,0.15);
}

/* Hide Scrollbar for Mobile Album Container */
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* =========================================
   6. MUSIC EQUALIZER
   ========================================= */

.bar {
  width: 3px;
  background-color: var(--gold);
  border-radius: 2px;
  /* Default animation */
  animation: eq-bounce 1s infinite ease-in-out;
}

/* Stagger animations for wave look */
.bar:nth-child(1) { animation-delay: 0.0s; }
.bar:nth-child(2) { animation-delay: 0.2s; }
.bar:nth-child(3) { animation-delay: 0.4s; }

@keyframes eq-bounce {
  0%, 100% { height: 4px; }
  50% { height: 16px; }
}

/* Pause state (optional if you add JS logic to pause animation) */
.paused .bar {
  animation-play-state: paused;
  height: 4px !important;
}

/* =========================================
   7. FORM & UTILS
   ========================================= */

/* Remove default focus outline, use border color instead */
input:focus {
  outline: none;
}

/* Radio button styling tweaks */
input[type="radio"]:checked + div {
  box-shadow: 0 4px 10px rgba(212, 175, 55, 0.4);
}

/* Checkbox Accent Color Override for Webkit */
input[type="checkbox"] {
  accent-color: var(--gold);
  cursor: pointer;
}